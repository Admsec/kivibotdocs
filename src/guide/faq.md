# 常见问题 {#faq}

这里列举了一系列高频问题和常见解决方案。

如果以下方案未能解决，或者你有其他任何问题，欢迎到社区礼貌提问以获取帮助。

- [前往 Discord 频道](https://discord.gg/RegGQD3Fu6)
- [加入 QQ 交流群](https://jq.qq.com/?_wv=1027&k=iK97X7NS)

## ❓ 如何获取滑块验证码的 `ticket` {#get-ticket}

框架会自动复制滑块链接，如果没有请手动复制，然后进行以下操作:

1. 打开浏览器，按 F12 或鼠标右键选择【检查】，打开浏览器的【开发者工具】
2. 切换到开发者工具网络(network)选项卡，点击 Fetch/XHR 按钮筛选请求
3. 在浏览器地址栏粘贴滑块链接，打开滑块验证页面
4. 正确滑动滑块完成验证，如果滑动完再次出现滑块，则需要再滑一次
5. 在开发者工具下方的请求列表找到最下面最新的一条，单击打开详情选项卡
6. 切换到预览(preview)选项卡，在 `ticket` 字段的内容上鼠标右键复制值
7. 将复制的 `ticket` 粘贴到框架的命令行输入区，按 Enter 键确认

## ❓ 哪些协议不冲突，如何切换登录协议 {#change-protocal}

目前共有四种设备类型可以**同时在线**，不会相互挤掉线:

- 手机（包括 iOS, Android 和 HarmonyOS 等）
- 电脑（包括 Windows, Win UWP, Linux 和 MacOS 等）
- 手表（包括 iWatch 和 Android Watch 等）
- 平板（包括 Android Pad 和 iPad 等）

登录协议标识对照：

- `1`: 安卓手机（手机）
- `2`: 安卓平板（平板）
- `3`: 安卓手表（手表）
- `4`: MacOS（电脑）
- `5`: iPad（平板）

如果需要切换登录协议，可以使用记事本或者 vscode 等文本编辑器打开框架目录下的配置文件 `kivi.json`，然后根据上述标识对照参考，编辑 `oicq_config` 字段的 `platform` 字段，重启框架生效。

## ❓ 提示设备版本过低怎么办 {#low-version}

尝试使用 `kivi fix --device` 命令修复设备 IMEI，然后选择【密码登录】+【短信验证码验证设备锁】的模式进行登录。

如果修复完登录仍然无效，尝试在本地设备上使用扫码模式登录。

如果还需要部署到服务器，可以尝试先在本地扫码登录后，将验证信息与配置文件（`data/oicq` 目录 和 `kivi.json` 配置文件）覆盖到服务器的框架目录再尝试登录。

## ❓ 扫码提示环境异常扫不了怎么办 {#qrcode-limit}

你可以尝试以下**任意**方案绕过扫码限制:

- 切换【密码登录模式】进行登录
- 使用【同 IP 地域】的本地设备进行扫码登录
- 使用代理将服务器 IP 和扫码设备的 IP 处于【同一地域】

## ❓ 消息指令安装插件失败，提示 timeout 超时 {#npm-timeout}

可能是由于 npm 网络连接不通畅，尝试打开终端，执行以下命令**切换国内镜像源**:

```shell
npm config set registry https://registry.npmmirror.com
```
